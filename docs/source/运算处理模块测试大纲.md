# 运算处理模块测试大纲

## 0 文档信息

* 文档名称：运算处理模块测试大纲
* 项目名称：国产运算处理模块测试验证技术研究
* 版本号：V1.0
* 编制单位：XXX
* 编写人：×××
* 审核人：×××
* 日期：2025-12-04

---

## 1 引言

### 1.1 编写目的

本测试大纲用于规划和说明运算处理模块在交付前应开展的各项测试活动，包括功能测试、性能测试、可靠性测试等内容。
通过本大纲，明确测试范围、测试重点、测试环境及方法，为后续《运算处理模块测试用例及测试报告》的编写和实施提供依据，并作为甲乙双方验收测试工作的指导文件。

### 1.2 适用范围

本大纲适用于以下软硬件版本的运算处理模块及测试验证平台：

* 运算处理模块硬件：国产ARM64平台（含 CPU、内存、以太网、串口等外设）
* 启动加载程序：U-Boot 2019.07-Ver1.37（乙方移植版本）
* 操作系统：openEuler Embedded 24.03-LTS（内核版本 5.10）
* 运算处理模块驱动软件与陪测软件：V1.0

### 1.3 参考文档

1. 《国产运算处理模块测试验证技术研究 技术协议》
2. 《openEuler Embedded 用户指南》
3. 《U-Boot 移植与使用说明》

### 1.4 术语和缩略语

* CPU：Central Processing Unit
* UART：串行异步收发接口
* OS：Operating System，操作系统

---

## 2 被测对象概述

### 2.1 功能概述

运算处理模块基于国产 ARM64 位处理器和 openEuler Embedded 操作系统，实现以下主要功能：

1. 典型任务周期调度与运算处理；
2. 板级状态监控，采样频率不低于 1 kHz，并进行滤波和门限监控；
3. 通过调试串口实现模式切换和运行日志输出；
4. 通过专用串口实现软件在线加载；
5. 通过 CAN 总线与外部设备进行命令和状态数据交互；
6. 通过千兆以太网实现基于 TCP/UDP 的网络通信；
7. 提供陪测软件，用于硬件外设识别、资源占用监控及压力测试。

### 2.2 软硬件组成



* 硬件组件：运算处理模块板卡、电源模块、CAN 收发器、以太网 PHY、串口接口、测试平台；
* 软件组件：

    * 启动阶段：U-Boot，引导 openEuler Embedded；
    * 操作系统：openEuler Embedded；
    * 驱动与中间件：CAN 驱动、以太网驱动、串口驱动、板级监控驱动等；
    * 应用层：典型任务应用、陪测软件、在线加载工具。

---

## 3 测试依据与测试范围

### 3.1 测试依据

测试活动主要依据以下条款：

1. 《运算处理模块技术要求》第 3.1 节“基本功能要求”；
2. 《运算处理模块技术要求》第 3.2 节“性能要求”；
3. 与接口、协议相关的行业标准（如 IEEE 802.3协议等）；
4. 甲方提出的补充需求及设计说明。

### 3.2 测试范围

本次测试范围包括但不限于：

1. **功能类测试**

    * 典型任务场景下的任务周期控制（≤ 10 ms）；
    * 板级状态监控功能（采集频率 ≥ 1 kHz、滤波与门限监控、故障记录与上报）；
    * 调试串口模式切换及通信参数验证（默认 115200 bps）；
    * 串口在线加载功能；
    * CAN 总线通信功能（标准帧/扩展帧收发、指令解析和状态上报）；
    * 网络通信功能（千兆以太网链路、IP 配置、TCP/UDP 连接与数据收发）。

2. **性能类测试**

    * 上电到陪测软件就绪时间（≤ 15 s）；
    * 系统空闲状态下 CPU 资源占用率（≤ 5%）；
    * 系统内存占用率（≤ 50%）；
    * 典型业务场景下关键接口吞吐量（如 CAN 总线帧率、以太网带宽利用率等）。

3. **可靠性与稳定性测试**

    * 长时间运行稳定性（如连续 72 h 运行无崩溃、无严重错误日志）；
    * 断电/复位恢复能力；
    * 异常输入（总线错误、网络异常、非法数据帧）下的健壮性。

---

## 4 测试分级与测试策略

### 4.1 测试分级

根据项目特点，测试工作划分为以下层次：

1. 单元测试：由开发人员完成，重点验证关键算法和驱动接口（本大纲不详细展开，仅在用例文档中给出概要）。
2. 集成测试：验证驱动与 OS、应用之间的接口正确性（如 CAN 驱动 + 上层协议栈）。
3. 系统测试：在完整软硬件环境下验证功能、性能与稳定性要求，本大纲的测试用例主要围绕系统测试展开。

### 4.2 测试策略

1. **黑盒测试为主，灰盒测试为辅**：

    * 对外部接口与功能采用黑盒方法；
    * 对关键资源占用、任务调度等，可结合系统日志、内核参数进行灰盒分析。

2. **需求驱动测试**：

    * 所有测试用例均应与《技术协议》中的条款建立一一或多对一的对应关系；
    * 对重要需求设置优先级更高的测试项。

3. **可重复性与可追溯性**：

    * 测试步骤规范化，保证不同批次测试结果可对比；
    * 通过需求–用例–结果三方关联，便于甲方审查。

---

## 5 测试环境与测试工具

### 5.1 测试环境构成

1. **硬件环境**

    * 被测运算处理模块 1 套；
    * 测试验证平台设备 1 套；
    * 串口线、以太网线、电源线等辅助设备。

2. **软件环境**

    * 固化在模块上的 U-Boot 与 openEuler Embedded 镜像；
    * 上位机调试与测试软件：串口终端、网络性能测试工具（iperf3）、抓包工具（tcpdump/wireshark）等；

### 5.2 环境要求

* 测试应在受控的实验室环境下进行，环境温度、供电质量满足模块工作条件；
* 需要网络连通性稳定，避免外部网络波动影响测试结果；

---

## 6 测试项目划分与内容概述

本节对各类测试项目进行分组说明，具体的测试步骤和数据记录将在《运算处理模块测试用例及测试报告》中详细给出。

### 6.1 功能测试项目

1. **任务调度与周期控制测试**

    * 验证典型任务在正常业务负载下的执行周期是否满足 ≤10 ms 要求；
    * 检查任务调度异常时的保护机制（如错误日志、重启策略）。

2. **板级状态监控测试**

    * 验证采样频率、数据缓冲与滤波算法；
    * 验证门限配置生效及故障记录、上报流程。

3. **调试串口及在线加载测试**

    * 调试模式与运行模式切换逻辑；
    * 串口波特率、数据位、校验位设置；
    * 在线加载过程中的版本校验、异常情况处理。

4. **CAN 总线通信功能测试**

    * 标准帧/扩展帧收发；
    * 正常命令帧的解析与执行；
    * 错误帧、总线关断（bus-off）情况下的恢复能力。

5. **网络通信功能测试**

    * 以太网链路建立、IP 地址配置（静态/动态）；
    * TCP/UDP 连接建立与保持；
    * 数据收发正确性与丢包率。

### 6.2 性能测试项目

1. **上电启动与加载时间测试**

    * 从上电到陪测软件进入就绪状态的时间统计。

2. **资源占用测试**

    * 空闲场景与典型业务场景下 CPU、内存占用率监控；
    * 分析资源占用峰值并评估裕量。

3. **接口性能测试**

    * CAN 总线帧率与总线负载；
    * 以太网带宽利用率（如基于 iperf3 的吞吐测试）。

### 6.3 可靠性与稳定性测试项目

1. **长时间运行稳定性测试**

    * 连续运行不少于 72 h，综合执行典型任务、通信业务和监控功能；
    * 检查系统是否出现死机、重启、严重异常日志等。

2. **复位/断电恢复测试**

    * 正常关机、异常断电、多次快速上电下的启动成功率；
    * 数据一致性和配置完整性检查。

3. **异常输入与边界条件测试**

    * CAN/网络异常数据帧、错误参数输入；
    * 系统是否能正确拒绝或处理，避免崩溃。

---

## 7 测试流程

1. 测试准备阶段：

    * 搭建测试环境，完成软硬件版本确认；
    * 根据本大纲编写详细测试用例与测试脚本；
    * 通过小规模预试验验证用例合理性。

2. 正式测试阶段：

    * 按测试计划依次执行功能、性能、可靠性等测试；
    * 记录原始数据、截图和日志。

3. 结果分析与问题跟踪：

    * 对不通过用例进行原因分析，提交缺陷单；
    * 开发修复后进行回归测试。

4. 总结与交付：

    * 形成《运算处理模块测试用例及测试报告》；
    * 与甲方进行测试结果评审与确认。

---

## 8 测试输出物

测试阶段拟输出以下文档和数据：

1. 《运算处理模块测试大纲》（本文档）；
2. 《运算处理模块测试用例及测试报告》（含需求–用例–结果跟踪矩阵）；
3. 测试日志与原始记录（串口日志、CAN 抓包、网络抓包、性能统计数据等）；
4. 版本说明及缺陷清单。
